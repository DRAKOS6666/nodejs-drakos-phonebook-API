## Description

Бэк-енд для приложения "телефонная книга" на базе веб-сервера express.js с базой данных MongoDB (Atlas), JWT аутентификацией/авторизацией пользователя, валидацией полученых данных.

### REST API поддерживает следующие рауты:

### @ GET /api/contacts

-   Ничего не получает
-   Вызывает функцию `listContacts` и возвращает массив всех контактов в json-формате со статусом `200`

### @ GET /api/contacts/:contactId

-   Не получает `body`
-   Получает параметр `contactId`
-   Вызывает функцию getContactById, если такой id есть, возвращает обьект контакта в json-формате со статусом `200`
-   Если такого id нет, возвращает json с ключом `"message": "Not found"` со статусом `404`

### @ POST /api/contacts

-   Получает `body` в формате `{name, email, phone}`
-   Если в body нет каких-то обязательных полей, возвращает json с ключом `{"message": "missing required name field"}` и статусом `400`
-   Если с `body` все хорошо, добавляет уникальный идентификатор в объект контакта
-   Вызывает функцию `addContact(body)` для сохранения контакта в файле `contacts.json`
-   По результату работы функции возвращает объект с добавленным `id` `{id, name, email, phone}` со статусом `201`

### @ DELETE /api/contacts/:contactId

-   Не получает `body`
-   Получает параметр `contactId`
-   Вызывает функцию `removeContact` для работы с json-файлом `contacts.json`
-   Если такой `id` есть, возвращает json формата `{"message": "contact deleted"}` со статусом `200`
-   Если такого `id` нет, возвращает json с ключом `"message": "Not found"` со статусом `404`

### @ PUT /api/contacts/:contactId

-   Получает параметр `contactId`
-   Получает `body` в json-формате c обновлением любых полей `name, email и phone`
-   Если `body` нет, возвращает json с ключом `{"message": "missing fields"}` со статусом `400`
-   Если с `body` все хорошо, вызывает функцию `updateContact(contactId, body)` (напиши ее) для обновления контакта в файле `contacts.json`
-   По результату работы функции возвращает обновленный объект контакта со статусом `200`. В противном случае, возвращает json с ключом `"message": "Not found"` со статусом `404`

### @ POST /users/signup

-   Получает `body` в формате `{email, password}`
-   Вызывает функцию `register` и возвращает объект созданого пользователя со статусом `201`
-   Если в body нет каких-то обязательных полей, возвращает json с ключом `{"message": "{field} is required"}` со статусом `400`
-   Если email и пароль не прошли валидацию, возвращает json с ключом ` "message": "Field: {Joi.error.details}"` со статусом `401`
-   Если такой email существует в базе данных, возвращает json с ключом `"message": "This email is already used."` со статусом `409`

### @ GET /api/users/login

-   Получает `body` в формате `{email, password}`
-   Если email и пароль введены не корректно, возвращает json с ключом "message": "Field: {Joi.error.details}"`со статусом`401`
-   Вызывает функцию login, если такая комбинация логина и пароля есть в БД, возвращает обьект контакта пользователя и новый jwt-токен со статусом `200`
-   Если такая комбинация логина и пароля не найдена, возвращает json с ключом `"message": "Invalid credentials."` со статусом `401`

### @ DELETE /api/users/current

-   Не получает `body`
-   Получает заголовок Authorization с токеном
-   Если пользователь не авторизирован возвращает json с ключом ` "message": "Not authorized"` и статус 401
-   Если авторизирован, возвращает объект пользователя

### @ POST /api/users/logout

-   Не получает `body`
-   Если пользователь не авторизирован возвращает json с ключом ` "message": "Not authorized"` и статус 401
-   Если авторизирован, очищает заголовок Authorization с токеном и возвращает статус 204

Для валидации принимаемых данных использован валидатор данных Joi.

### Команды:

-   `npm start` &mdash; старт сервера в режиме production
-   `npm run start:dev` &mdash; старт сервера в режиме разработки (development)
-   `npm run lint` &mdash; запустить выполнение проверки кода с eslint, необходимо выполнять перед каждым PR и исправлять все ошибки линтера
-   `npm lint:fix` &mdash; та же проверка линтера, но с автоматическими исправлениями простых ошибок
